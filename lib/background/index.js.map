{"version":3,"sources":["lib/background/index.js"],"names":["background","target","name","descriptor","wrappedFn","_transport","value"],"mappings":";;;;;;;;;;kBAMwBA,U;;;;AANxB;;;;;;AAMe,SAASA,UAAT,CAAoBC,MAApB,EAA4BC,IAA5B,EAAkCC,UAAlC,EAA8C;AAC3D,WAASC,SAAT,GAA4B;AAC1B;AACA,QAAI,CAAC,KAAKC,UAAV,EAAsB;AACpB,UAAMC,QAAQH,WAAWG,KAAzB;AACA,aAAaA,KAAN,YAAMA,KAAN,uDAAP;AACD;AACD,WAAO,IAAP;AACD;AACD,oCACKH,UADL;AAEEG,WAAOF;AAFT;AAID","file":"index.js","sourcesContent":["/**\n * @background is a decorator designed for explicitly making the function\n * to be executed in background instead of client.\n * It can be used for decorating UI-driven function calls so that it will\n * only be called in background.\n */\nexport default function background(target, name, descriptor) {\n  function wrappedFn(...args) {\n    // Only clinet has transport\n    if (!this._transport) {\n      const value = descriptor.value;\n      return this::value(...args);\n    }\n    return null;\n  }\n  return {\n    ...descriptor,\n    value: wrappedFn\n  };\n}\n\n"]}