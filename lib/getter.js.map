{"version":3,"sources":["lib/getter.js"],"names":["selector","prototype","property","initializer","value","get","wrapper","configurable","enumerable","target","fn"],"mappings":";;;;;;AACA;;;;AAIe,SAASA,QAAT,CAAkBC,SAAlB,EAA6BC,QAA7B,QAAoE;AAAA,MAA3BC,WAA2B,QAA3BA,WAA2B;AAAA,MAAdC,KAAc,QAAdA,KAAc;AAAA,MAAPC,IAAO,QAAPA,GAAO;;AACjF,MAAIC,gBAAJ;AACA,SAAO;AACLC,kBAAc,IADT;AAELC,gBAAY,IAFP;AAGLH,OAHK,iBAGC;AAAA;;AACJ,UAAI,CAACC,OAAL,EAAc;AACZA,kBAAU,EAAV;AACA,YAAIH,WAAJ,EAAiB;AACfG,kBAAQG,MAAR,GAAuBN,WAAN,WAAjB;AACD,SAFD,MAEO;AACLG,kBAAQG,MAAR,GAAiBL,SAASC,IAA1B;AACD;AACDC,gBAAQI,EAAR,GAAa,OAAOJ,QAAQG,MAAf,KAA0B,UAA1B,GACX;AAAA,iBAAYH,QAAQG,MAAd,YAAN;AAAA,SADW,GAEX;AAAA,iBAAMH,QAAQG,MAAd;AAAA,SAFF;AAGD;AACD,aAAOH,QAAQI,EAAR,EAAP;AACD;AAhBI,GAAP;AAkBD","file":"getter.js","sourcesContent":["\r\n/**\r\n * @function\r\n * @description Decorator function that convert a class method to a getter\r\n */\r\nexport default function selector(prototype, property, { initializer, value, get }) {\r\n  let wrapper;\r\n  return {\r\n    configurable: true,\r\n    enumerable: true,\r\n    get() {\r\n      if (!wrapper) {\r\n        wrapper = {};\r\n        if (initializer) {\r\n          wrapper.target = this::initializer();\r\n        } else {\r\n          wrapper.target = value || get;\r\n        }\r\n        wrapper.fn = typeof wrapper.target === 'function' ?\r\n          () => this::wrapper.target() :\r\n          () => wrapper.target;\r\n      }\r\n      return wrapper.fn();\r\n    }\r\n  };\r\n}\r\n"]}