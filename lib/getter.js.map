{"version":3,"sources":["lib/getter.js"],"names":["WRAPPER","selector","prototype","property","initializer","value","get","configurable","enumerable","targetSymbol"],"mappings":";;;;;;;;;;;;;AAAA,IAAMA,UAAU,sBAAO,SAAP,CAAhB;;AAEA;;;;AAIe,SAASC,QAAT,CAAkBC,SAAlB,EAA6BC,QAA7B,QAAoE;AAAA,MAA3BC,WAA2B,QAA3BA,WAA2B;AAAA,MAAdC,KAAc,QAAdA,KAAc;AAAA,MAAPC,IAAO,QAAPA,GAAO;;AACjF,SAAO;AACLC,kBAAc,IADT;AAELC,gBAAY,IAFP;AAGLF,OAHK,iBAGC;AAAA;;AACJ,UAAI,CAAC,KAAKN,OAAL,CAAL,EAAoB;AAClB,aAAKA,OAAL,IAAgB,EAAhB;AACD;AACD,UAAI,CAAC,KAAKA,OAAL,EAAcG,QAAd,CAAL,EAA8B;AAC5B,YAAMM,eAAe,sBAAUN,QAAV,aAArB;;AAEA,aAAKM,YAAL,IAAqBL,cACbA,WAAN,WADmB,GAElBC,SAASC,IAFZ;;AAIA,aAAKN,OAAL,EAAcG,QAAd,IAA0B,OAAO,KAAKM,YAAL,CAAP,KAA8B,UAA9B,GACxB;AAAA,iBAAM,MAAKA,YAAL,GAAN;AAAA,SADwB,GAExB;AAAA,iBAAM,MAAKA,YAAL,CAAN;AAAA,SAFF;AAGD;AACD,aAAO,KAAKT,OAAL,EAAcG,QAAd,GAAP;AACD;AAnBI,GAAP;AAqBD","file":"getter.js","sourcesContent":["const WRAPPER = Symbol('wrapper');\r\n\r\n/**\r\n * @function\r\n * @description Decorator function that convert a class method to a getter\r\n */\r\nexport default function selector(prototype, property, { initializer, value, get }) {\r\n  return {\r\n    configurable: true,\r\n    enumerable: true,\r\n    get() {\r\n      if (!this[WRAPPER]) {\r\n        this[WRAPPER] = {};\r\n      }\r\n      if (!this[WRAPPER][property]) {\r\n        const targetSymbol = Symbol(`${property}-target`);\r\n\r\n        this[targetSymbol] = initializer ?\r\n          this::initializer() :\r\n          (value || get);\r\n\r\n        this[WRAPPER][property] = typeof this[targetSymbol] === 'function' ?\r\n          () => this[targetSymbol]() :\r\n          () => this[targetSymbol];\r\n      }\r\n      return this[WRAPPER][property]();\r\n    }\r\n  };\r\n}\r\n"]}