{"version":3,"sources":["/src/lib/fetchList.js"],"names":["fn","params","fetchedPages","totalPages","list","perPage","page","data","paging","concat","records","fetchList"],"mappings":";;;;;;;;;;;;;;;;;;;;;wEAAe,iBAAyBA,EAAzB;AAAA,QAA6BC,MAA7B,uEAAsC,EAAtC;;AAAA;;AAAA;AAAA;AAAA;AAAA;AACTC,wBADS,GACM,CADN;AAETC,sBAFS,GAEI,CAFJ;AAGTC,gBAHS,GAGF,EAHE;AAAA,8BAMTH,MANS,CAKXI,OALW,EAKXA,OALW,mCAKD,KALC;;AAAA;AAAA,kBAONH,eAAeC,UAPT;AAAA;AAAA;AAAA;;AAQXD;AARW;AAAA,mBASQF,8BACdC,MADc;AAEjBI,8BAFiB;AAGjBC,oBAAMJ;AAHW,eATR;;AAAA;AASLK,gBATK;;AAcXJ,yBAAaI,KAAKC,MAAL,CAAYL,UAAzB;AACAC,mBAAOA,KAAKK,MAAL,CAAYF,KAAKG,OAAjB,CAAP;AAfW;AAAA;;AAAA;AAAA,6CAiBNN,IAjBM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;WAAeO,S;;;;SAAAA,S","file":"fetchList.js","sourcesContent":["export default async function fetchList(fn, params = {}) {\n  let fetchedPages = 0;\n  let totalPages = 1;\n  let list = [];\n  const {\n    perPage = 'MAX',\n  } = params;\n  while (fetchedPages < totalPages) {\n    fetchedPages++;\n    const data = await fn({\n      ...params,\n      perPage,\n      page: fetchedPages,\n    });\n    totalPages = data.paging.totalPages;\n    list = list.concat(data.records);\n  }\n  return list;\n}\n"]}