{"version":3,"sources":["modules/proxy/get-proxy-server-reducer.js"],"names":["getProxyServerReducer","prefix","transport","moduleReducer","actions","state","action","module","lastAction","actionNumber","nextActionNumber","push","payload","type"],"mappings":";;;;;kBASwBA,qB;;AATxB;;;;AACA;;;;AAEA;;;;;;AAMe,SAASA,qBAAT,CAA+BC,MAA/B,EAAuCC,SAAvC,EAAkDC,aAAlD,EAAiE;AAC9E,MAAMC,UAAU,wDAA4BH,MAA5B,CAAhB;AACA,SAAO,UAACI,KAAD,EAAQC,MAAR,EAAmB;AACxB,QAAI,CAACD,KAAL,EAAY;AACV,aAAO;AACLE,gBAAQJ,eADH;AAELK,oBAAY,IAFP;AAGLC,sBAAc,CAAC;AAHV,OAAP;AAKD;AACD,QAAI,CAACH,MAAL,EAAa;AACX,aAAOD,KAAP;AACD;AACD,QAAMK,mBAAmBL,MAAMI,YAAN,GAAqB,CAA9C;AACAP,cAAUS,IAAV,CAAe;AACbC,eAAS;AACPC,cAAMT,QAAQE,MADP;AAEPA,sBAFO;AAGPG,sBAAcC;AAHP;AADI,KAAf;AAOA,WAAO;AACLH,cAAQJ,cAAcE,MAAME,MAApB,EAA4BD,MAA5B,CADH;AAELE,kBAAYF,MAFP;AAGLG,oBAAcC;AAHT,KAAP;AAKD,GAxBD;AAyBD","file":"get-proxy-server-reducer.js","sourcesContent":["import proxyActions from './proxy-actions';\nimport { prefixActions } from '../../lib/redux-helper';\n\n/**\n * @function\n * @param {String} prefix\n * @param {Object} transport\n * @param {Function} moduleReducer\n */\nexport default function getProxyServerReducer(prefix, transport, moduleReducer) {\n  const actions = prefixActions(proxyActions, prefix);\n  return (state, action) => {\n    if (!state) {\n      return {\n        module: moduleReducer(),\n        lastAction: null,\n        actionNumber: -1,\n      };\n    }\n    if (!action) {\n      return state;\n    }\n    const nextActionNumber = state.actionNumber + 1;\n    transport.push({\n      payload: {\n        type: actions.action,\n        action,\n        actionNumber: nextActionNumber,\n      },\n    });\n    return {\n      module: moduleReducer(state.module, action),\n      lastAction: action,\n      actionNumber: nextActionNumber,\n    };\n  };\n}\n"]}