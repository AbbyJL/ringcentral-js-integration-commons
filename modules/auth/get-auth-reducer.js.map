{"version":3,"sources":["modules/auth/get-auth-reducer.js"],"names":["getAuthReducer","prefix","actions","state","action","status","pending","token","error","type","init","login","loggingIn","logout","loggingOut","loginSuccess","loggedIn","logoutSuccess","notLoggedIn","loginError","logoutError","refreshSuccess","refreshError"],"mappings":";;;;;;;;;;kBAIwBA,c;;AAJxB;;AACA;;;;AACA;;;;;;AAEe,SAASA,cAAT,CAAwBC,MAAxB,EAAgC;AAC7C,MAAMC,UAAU,gCAAc,EAAEA,8BAAF,EAAwBD,cAAxB,EAAd,CAAhB;AACA,SAAO,UAACE,KAAD,EAAQC,MAAR,EAAmB;AACxB,QAAI,OAAOD,KAAP,KAAiB,WAArB,EAAkC;AAChC,aAAO;AACLE,gBAAQ,qBAAWC,OADd;AAELC,eAAO,IAFF;AAGLC,eAAO;AAHF,OAAP;AAKD;AACD,QAAI,CAACJ,MAAL,EAAa,OAAOD,KAAP;AACb,YAAQC,OAAOK,IAAf;;AAEE,WAAKP,QAAQQ,IAAb;AACE,0CACKP,KADL;AAEEE,kBAAQD,OAAOC,MAFjB;AAGEE,iBAAOH,OAAOG;AAHhB;;AAMF,WAAKL,QAAQS,KAAb;AACE,0CACKR,KADL;AAEEE,kBAAQ,qBAAWO,SAFrB;AAGEJ,iBAAO;AAHT;;AAMF,WAAKN,QAAQW,MAAb;AACE,0CACKV,KADL;AAEEE,kBAAQ,qBAAWS,UAFrB;AAGEN,iBAAO;AAHT;;AAMF,WAAKN,QAAQa,YAAb;AACE,eAAO;AACLV,kBAAQ,qBAAWW,QADd;AAELT,iBAAOH,OAAOG,KAFT;AAGLC,iBAAO;AAHF,SAAP;;AAMF,WAAKN,QAAQe,aAAb;AACE,eAAO;AACLZ,kBAAQ,qBAAWa,WADd;AAELX,iBAAO,IAFF;AAGLC,iBAAO;AAHF,SAAP;;AAMF,WAAKN,QAAQiB,UAAb;AACE,0CACKhB,KADL;AAEEE,kBAAQ,qBAAWa,WAFrB;AAGEV,iBAAOJ,OAAOI;AAHhB;;AAMF,WAAKN,QAAQkB,WAAb;AACE,0CACKjB,KADL;AAEEE,kBAAQ,qBAAWW,QAFrB;AAGER,iBAAOJ,OAAOI;AAHhB;;AAMF,WAAKN,QAAQmB,cAAb;AACE,0CACKlB,KADL;AAEEI,iBAAOH,OAAOG;AAFhB;;AAKF,WAAKL,QAAQoB,YAAb;AACE,eAAO;AACLjB,kBAAQ,qBAAWa,WADd;AAELX,iBAAO,IAFF;AAGLC,iBAAON,QAAQM;AAHV,SAAP;;AAMF;AACE,eAAOL,KAAP;AAjEJ;AAmED,GA5ED;AA6ED","file":"get-auth-reducer.js","sourcesContent":["import { prefixActions } from '../../lib/redux-helper';\nimport authActions from './auth-actions';\nimport authStatus from './auth-status';\n\nexport default function getAuthReducer(prefix) {\n  const actions = prefixActions({ actions: authActions, prefix });\n  return (state, action) => {\n    if (typeof state === 'undefined') {\n      return {\n        status: authStatus.pending,\n        token: null,\n        error: null,\n      };\n    }\n    if (!action) return state;\n    switch (action.type) {\n\n      case actions.init:\n        return {\n          ...state,\n          status: action.status,\n          token: action.token,\n        };\n\n      case actions.login:\n        return {\n          ...state,\n          status: authStatus.loggingIn,\n          error: null,\n        };\n\n      case actions.logout:\n        return {\n          ...state,\n          status: authStatus.loggingOut,\n          error: null,\n        };\n\n      case actions.loginSuccess:\n        return {\n          status: authStatus.loggedIn,\n          token: action.token,\n          error: null,\n        };\n\n      case actions.logoutSuccess:\n        return {\n          status: authStatus.notLoggedIn,\n          token: null,\n          error: null,\n        };\n\n      case actions.loginError:\n        return {\n          ...state,\n          status: authStatus.notLoggedIn,\n          error: action.error,\n        };\n\n      case actions.logoutError:\n        return {\n          ...state,\n          status: authStatus.loggedIn,\n          error: action.error,\n        };\n\n      case actions.refreshSuccess:\n        return {\n          ...state,\n          token: action.token,\n        };\n\n      case actions.refreshError:\n        return {\n          status: authStatus.notLoggedIn,\n          token: null,\n          error: actions.error,\n        };\n\n      default:\n        return state;\n    }\n  };\n}\n"]}