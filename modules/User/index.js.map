{"version":3,"sources":["modules/User/index.js"],"names":["User","options","addModule","getState","state","accountInfo","extensionInfo","dialingPlan","phoneNumber","forwardingNumber","blockedNumber","_reducer","reducer","addSelector","error","accountInfoError","extensionInfoError","dialingPlanError","phoneNumberError","forwardingNumberError","blockedNumberErrror","status","accountInfoStatus","pending","extensionInfoStatus","dialingPlanStatus","extensionPhoneNumberStatus","forwardingNumberStatus","blockedNumberStatus","fetching","ready","getSelector"],"mappings":"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","file":"index.js","sourcesContent":["import { combineReducers } from 'redux';\nimport RcModule from '../../lib/RcModule';\nimport userStatus from './userStatus';\n\nimport AccountInfo from '../AccountInfo';\nimport ExtensionInfo from '../ExtensionInfo';\nimport DialingPlan from '../DialingPlan';\nimport ExtensionPhoneNumber from '../ExtensionPhoneNumber';\nimport ForwardingNumber from '../ForwardingNumber';\nimport BlockedNumber from '../BlockedNumber';\n\nexport default class User extends RcModule {\n  constructor({\n    ...options,\n  }) {\n    super(options);\n    this.addModule('accountInfo', new AccountInfo({\n      ...options,\n      getState: () => this.state.accountInfo,\n    }));\n    this.addModule('extensionInfo', new ExtensionInfo({\n      ...options,\n      getState: () => this.state.extensionInfo,\n    }));\n    this.addModule('dialingPlan', new DialingPlan({\n      ...options,\n      getState: () => this.state.dialingPlan,\n    }));\n    this.addModule('phoneNumber', new ExtensionPhoneNumber({\n      ...options,\n      getState: () => this.state.phoneNumber,\n    }));\n    this.addModule('forwardingNumber', new ForwardingNumber({\n      ...options,\n      getState: () => this.state.forwardingNumber,\n    }));\n    this.addModule('blockedNumber', new BlockedNumber({\n      ...options,\n      getState: () => this.state.blockedNumber,\n    }));\n    this._reducer = combineReducers({\n      accountInfo: this.accountInfo.reducer,\n      extensionInfo: this.extensionInfo.reducer,\n      dialingPlan: this.dialingPlan.reducer,\n      phoneNumber: this.phoneNumber.reducer,\n      forwardingNumber: this.forwardingNumber.reducer,\n      blockedNumber: this.blockedNumber.reducer,\n    });\n\n    this.addSelector(\n      'error',\n      [\n        () => this.accountInfo.error,\n        () => this.extensionInfo.error,\n        () => this.dialingPlan.error,\n        () => this.phoneNumber.error,\n        () => this.forwardingNumber.error,\n        () => this.blockedNumber.error,\n      ],\n      (\n        accountInfoError,\n        extensionInfoError,\n        dialingPlanError,\n        phoneNumberError,\n        forwardingNumberError,\n        blockedNumberErrror,\n      ) => {\n        if (\n          accountInfoError ||\n          extensionInfoError ||\n          dialingPlanError ||\n          phoneNumberError ||\n          forwardingNumberError ||\n          blockedNumberErrror\n        ) {\n          return {\n            accountInfoError,\n            extensionInfoError,\n            dialingPlanError,\n            phoneNumberError,\n            forwardingNumberError,\n            blockedNumberErrror,\n          };\n        }\n        return null;\n      },\n    );\n  }\n\n  get userState() {\n    return userStatus;\n  }\n\n  get status() {\n    if (\n      this.accountInfo.status === this.accountInfo.accountInfoStatus.pending ||\n      this.extensionInfo.status === this.extensionInfo.extensionInfoStatus.pending ||\n      this.dialingPlan.status === this.dialingPlan.dialingPlanStatus.pending ||\n      this.phoneNumber.status === this.phoneNumber.extensionPhoneNumberStatus.pending ||\n      this.forwardingNumber.status === this.forwardingNumber.forwardingNumberStatus.pending ||\n      this.blockedNumber.status === this.blockedNumber.blockedNumberStatus.pending\n    ) {\n      return userStatus.pending;\n    } else if (\n      this.accountInfo.status === this.accountInfo.accountInfoStatus.fetching ||\n      this.extensionInfo.status === this.extensionInfo.extensionInfoStatus.fetching ||\n      this.dialingPlan.status === this.dialingPlan.dialingPlanStatus.fetching ||\n      this.phoneNumber.status === this.phoneNumber.extensionPhoneNumberStatus.fetching ||\n      this.forwardingNumber.status === this.forwardingNumber.forwardingNumberStatus.fetching ||\n      this.blockedNumber.status === this.blockedNumber.blockedNumberStatus.fetching\n    ) {\n      return userStatus.fetching;\n    }\n    return userStatus.ready;\n  }\n\n  get error() {\n    return this.getSelector('error')();\n  }\n}\n"]}